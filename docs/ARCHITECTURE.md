# üèóÔ∏è Architecture Documentation

## Project Structure

```
node-http-server/
‚îú‚îÄ‚îÄ docs/                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ API.md             # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md    # –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md      # –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ src/                   # –ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ http.mjs      # HTTP –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.mjs     # –û—Å–Ω–æ–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ controllers/       # –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ (–±—ñ–∑–Ω–µ—Å –ª–æ–≥—ñ–∫–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pageController.mjs     # HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ productController.mjs  # CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ middleware/        # Middleware —Ñ—É–Ω–∫—Ü—ñ—ó
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errorHandlers.mjs     # –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ models/           # –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ products.mjs  # –ú–æ–¥–µ–ª—å –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ routes/           # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router.mjs    # Express routes
‚îÇ   ‚îú‚îÄ‚îÄ utils/            # –£—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.mjs    # –õ–æ–≥—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ views/            # EJS —à–∞–±–ª–æ–Ω–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 404.ejs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ejs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navigation.ejs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product-detail.ejs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product-form.ejs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.ejs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.ejs
‚îÇ   ‚îî‚îÄ‚îÄ server.mjs        # Express —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ index.mjs             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ package.json          # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ README.md            # –û—Å–Ω–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## Architecture Pattern: MVC

### Model (–ú–æ–¥–µ–ª—ñ)

- `products.mjs` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞–¥ –º–∞—Å–∏–≤–æ–º

### View (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è)

- EJS —à–∞–±–ª–æ–Ω–∏ –¥–ª—è HTML —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- JSON –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è API
- –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ embedded CSS

### Controller (–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏)

- `productController.mjs` - –ª–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –∑ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
- `pageController.mjs` - –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- –û–±—Ä–æ–±–∫–∞ HTTP –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

## Data Flow

```
HTTP Request ‚Üí Express Router ‚Üí Controller ‚Üí Model ‚Üí Controller ‚Üí HTTP Response
```

1. **Request** - –∫–ª—ñ—î–Ω—Ç –Ω–∞–¥—Å–∏–ª–∞—î HTTP –∑–∞–ø–∏—Ç
2. **Router** - Express –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç –¥–æ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞
3. **Controller** - –æ–±—Ä–æ–±–ª—è—î –∑–∞–ø–∏—Ç, –≤–∏–∫–ª–∏–∫–∞—î –º–æ–¥–µ–ª—ñ
4. **Model** - –≤–∏–∫–æ–Ω—É—î –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –¥–∞–Ω–∏–º–∏
5. **Response** - –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä —Ñ–æ—Ä–º—É—î —ñ –Ω–∞–¥—Å–∏–ª–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å

## Technology Stack

- **Runtime:** Node.js (ES Modules)
- **Framework:** Express.js 5.1.0
- **Template Engine:** EJS
- **HTTP Methods:** GET, POST, PUT, DELETE (method-override)
- **Data Storage:** In-memory array (for learning)
- **Logging:** Custom logger utility
- **Error Handling:** Global error handlers

## Design Principles

1. **Separation of Concerns** - –∫–æ–∂–µ–Ω –º–æ–¥—É–ª—å –º–∞—î –æ–¥–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å
2. **DRY (Don't Repeat Yourself)** - —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É
3. **RESTful API** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ HTTP –º–µ—Ç–æ–¥–∏ —Ç–∞ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∏
4. **Error Handling** - —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
5. **Modularity** - –∫–æ–¥ —Ä–æ–∑–¥—ñ–ª–µ–Ω–∏–π –Ω–∞ –ª–æ–≥—ñ—á–Ω—ñ –º–æ–¥—É–ª—ñ
6. **Router Decomposition** - –º–æ–¥—É–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –∑ Express Router

## Router Architecture

### –ú–æ–¥—É–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ—É—Ç–µ—Ä—ñ–≤:

```
routes/
‚îú‚îÄ‚îÄ index.mjs           # –ì–æ–ª–æ–≤–Ω–∏–π —Ä–æ—É—Ç–µ—Ä –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –≤—Å—ñ—Ö –º–æ–¥—É–ª—ñ–≤
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ products.mjs    # /api/products/* - JSON API
‚îî‚îÄ‚îÄ web/
    ‚îú‚îÄ‚îÄ products.mjs    # /products/* - HTML —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    ‚îî‚îÄ‚îÄ pages.mjs       # / —Ç–∞ —ñ–Ω—à—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
```

### –ü–µ—Ä–µ–≤–∞–≥–∏ –º–æ–¥—É–ª—å–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:
- ‚úÖ **–Ü–∑–æ–ª—è—Ü—ñ—è** - –∫–æ–∂–µ–Ω —Ä–æ—É—Ç–µ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ —Å–≤—ñ–π –¥–æ–º–µ–Ω
- ‚úÖ **–ü–µ—Ä–µ—ñ—Å–ø–æ–ª—å–∑—É–≤–∞–Ω–Ω—è** - —Ä–æ—É—Ç–µ—Ä–∏ –º–æ–∂–Ω–∞ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–æ
- ‚úÖ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - –ª–µ–≥—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ –º–æ–¥—É–ª—ñ
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è** - –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ä–æ—É—Ç–µ—Ä–∏
- ‚úÖ **–ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å** - —á—ñ—Ç–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è
