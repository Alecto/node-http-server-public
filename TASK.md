# üöÄ –ó–∞–≤–¥–∞–Ω–Ω—è: –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è Express –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –¥–æ –ø–æ–≤–Ω–æ–≥–æ REST –ø—Ä–æ—î–∫—Ç—É

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** –°–µ—Ä–µ–¥–Ω—è

**–ú–µ—Ç–∞:**

- –†–æ–∑—à–∏—Ä–∏—Ç–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –≤–µ—Ä—Å—ñ—é `express-basic-migration` –¥–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É –∑ REST API —Ç–∞ HTML —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏.
- –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ CRUD (Create, Read, Update, Delete) –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ —á–µ—Ä–µ–∑ REST –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ —Ç–∞ –≤–µ–±-—Ñ–æ—Ä–º–∏.
- –û—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–¥ –∑–∞ –∫—Ä–∞—â–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏ Express: –º–æ–¥—É–ª—å–Ω—ñ —Ä–æ—É—Ç–µ—Ä–∏, middleware, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è, –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫, –¥–æ–∫—É–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è.

## –ö–ª—é—á–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

- –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (EJS) –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É, –¥–æ–¥–∞–≤–∞–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤.
- RESTful API `/api/products` –∑ –º–µ—Ç–æ–¥–∞–º–∏ GET/POST/PUT/PATCH/DELETE.
- In-memory –º–æ–¥–µ–ª—å –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ —ñ–∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é —Ç–∞ —Å–ª—É–∂–±–æ–≤–∏–º–∏ —É—Ç–∏–ª—ñ—Ç–∞–º–∏.
- Middleware –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è, –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –∑–∞–ø–∏—Ç—ñ–≤, –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ (404/500, JSON vs HTML).
- –û–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ –±–∞–∑–æ–≤—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

### –ü—ñ—Å–ª—è `express-basic-migration`

```
node-http-server/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pageController.mjs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ productController.mjs
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ products.mjs
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router.mjs
‚îÇ   ‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ejs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.ejs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product-form.ejs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ product-detail.ejs
‚îÇ   ‚îî‚îÄ‚îÄ server.mjs
‚îú‚îÄ‚îÄ index.mjs
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

### –ú–µ—Ç–∞ `express-migration`

```
node-http-server/
‚îú‚îÄ‚îÄ docs/                 # API, Architecture, Testing, Deployment
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.mjs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ http.mjs
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ products.mjs    # –ø–æ—á–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ–¥—É–∫—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pageController.mjs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ productController.mjs (HTML + API)
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ errorHandlers.mjs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validation.mjs
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ products.mjs     # CRUD, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è, reset
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.mjs
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ products.mjs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ web/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ index.mjs
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ pages.mjs
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ products.mjs
‚îÇ   ‚îú‚îÄ‚îÄ server.mjs
‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ       ‚îú‚îÄ‚îÄ 404.ejs
‚îÇ       ‚îú‚îÄ‚îÄ 500.ejs
‚îÇ       ‚îú‚îÄ‚îÄ index.ejs
‚îÇ       ‚îú‚îÄ‚îÄ navigation.ejs
‚îÇ       ‚îú‚îÄ‚îÄ products.ejs
‚îÇ       ‚îú‚îÄ‚îÄ product-form.ejs
‚îÇ       ‚îî‚îÄ‚îÄ product-detail.ejs
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ runTests.mjs
‚îú‚îÄ‚îÄ index.mjs
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

---

## –ï—Ç–∞–ø 1. express-basic-migration (–±–∞–∑–æ–≤–∞ Express –≤–µ—Ä—Å—ñ—è)

> –¶–µ–π –µ—Ç–∞–ø –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —É –≥—ñ–ª—Ü—ñ `express-basic-migration` —ñ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö `express-basic-migration`. –ú–µ—Ç–∞ ‚Äî —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –ø—Ä–æ—Å—Ç—É Express-–≤–µ—Ä—Å—ñ—é –¥–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É –∑ HTML —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Ç–∞ RESTful API –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤.

### –ö—Ä–æ–∫–∏

1. **–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏**

   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤ –ø—Ä–æ—î–∫—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `express`, `ejs`, `method-override`, `dotenv` (—è–∫ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –≥—ñ–ª—Ü—ñ).
   - –î–æ–¥–∞–π—Ç–µ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏ `supertest`/`cross-env` (–¥–ª—è –º–∞–π–±—É—Ç–Ω—ñ—Ö —Ç–µ—Å—Ç—ñ–≤) —Ç–∞ –æ–Ω–æ–≤—ñ—Ç—å `package.json`.
   - –†–æ–∑–±—ñ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É `routes/` –Ω–∞ `routes/api` —Ç–∞ `routes/web`, —Å—Ç–≤–æ—Ä—ñ—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä `routes/api/index.mjs` —Ç–∞ `routes/web/index.mjs`.

2. **–ú–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö**

   - –í–∏–Ω–µ—Å—ñ—Ç—å –ø–æ—á–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –≤ –æ–∫—Ä–µ–º–∏–π –º–æ–¥—É–ª—å (`src/data/products.mjs`).
   - –£ `src/models/products.mjs` —Ä–µ–∞–ª—ñ–∑—É–π—Ç–µ in-memory CRUD:
     - `getAllProducts`, `getProductById`.
     - `addProduct` (–≥–µ–Ω–µ—Ä—É—î –Ω–∞—Å—Ç—É–ø–Ω–∏–π `id`).
     - `replaceProduct` (PUT), `patchProduct` (PATCH), `deleteProduct`.
     - –í–∞–ª—ñ–¥–∞—Ü—ñ—ó: `validateProduct`, `validatePutProduct`, `validatePatchProduct`, `resetProducts` (–¥–ª—è —Ç–µ—Å—Ç—ñ–≤).

3. **–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏**

   - –†–æ–∑–¥—ñ–ª—ñ—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –Ω–∞ HTML (`pageController`, `productController` –¥–ª—è –≤–µ–±) —Ç–∞ API (`productController` –∑ REST –º–µ—Ç–æ–¥–∞–º–∏).
   - –†–µ–∞–ª—ñ–∑—É–π—Ç–µ JSON –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è `/api/products`:
     - `GET /api/products` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤.
     - `GET /api/products/:id` ‚Äî –¥–µ—Ç–∞–ª—ñ.
     - `POST` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è `id` —Å–µ—Ä–≤–µ—Ä–æ–º).
     - `PUT` ‚Äî –ø–æ–≤–Ω–∞ –∑–∞–º—ñ–Ω–∞.
     - `PATCH` ‚Äî —á–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.
     - `DELETE` ‚Äî –≤–∏–¥–∞–ª–µ–Ω–Ω—è.
   - –í–µ–±-—á–∞—Å—Ç–∏–Ω–∞ –ø–æ–≤–∏–Ω–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–≥–ª—è–¥ —Å–ø–∏—Å–∫—É, –¥–µ—Ç–∞–ª–µ–π, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–∏—Ö –¥—ñ–π.

4. **Middleware —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫**

   - –î–æ–¥–∞–π—Ç–µ middleware –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É (–¥–ª—è –≤–µ–± —ñ API).
   - –°—Ç–≤–æ—Ä—ñ—Ç—å `src/middleware/validation.mjs` –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞–º–∏ –∑–∞–ø–∏—Ç—ñ–≤ (create, put, patch) —Ç–∞ –ø—ñ–¥–∫–ª—é—á—ñ—Ç—å —ó—Ö —É API —Ä–æ—É—Ç–µ—Ä—ñ.
   - –†–æ–∑—à–∏—Ä—ñ—Ç—å `errorHandlers.mjs`:
     - –ì–ª–æ–±–∞–ª—å–Ω—ñ `process` –æ–±—Ä–æ–±–Ω–∏–∫–∏ (`uncaughtException`, `unhandledRejection`).
     - Express error middleware, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î JSON –¥–ª—è API —Ç–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É 500 –¥–ª—è –≤–µ–±.
   - –†–µ–∞–ª—ñ–∑—É–π—Ç–µ –æ–∫—Ä–µ–º–∏–π 404 –¥–ª—è API (JSON) —ñ –¥–ª—è –≤–µ–± (EJS —Å—Ç–æ—Ä—ñ–Ω–∫–∞).

5. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è**

   - –£ `routes/api/products.mjs` –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –ª–∞–Ω—Ü—é–≥–æ–≤—ñ –≤–∏–∫–ª–∏–∫–∏ `.route()` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É –º–µ—Ç–æ–¥—ñ–≤.
   - `routes/web/products.mjs` —Ç–µ–∂ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑—É–π—Ç–µ –∑ `.route()` —Ç–∞ –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —Ñ–æ—Ä–º.
   - –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å —É `server.mjs` –∞–≥—Ä–µ–≥–æ–≤–∞–Ω—ñ —Ä–æ—É—Ç–µ—Ä–∏: `app.use('/api', apiRouter)`, `app.use('/', webRouter)`.
   - –ó–∞–±–µ–∑–ø–µ—á—Ç–µ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (–∑–∞ –ø–æ—Ç—Ä–µ–±–∏), middleware –¥–ª—è `express.urlencoded`, `express.json`, `methodOverride('_method')`.

6. **–í–∏–¥–∏ (views)**

   - –†–æ–∑—à–∏—Ä—ñ—Ç—å EJS —à–∞–±–ª–æ–Ω–∏: —Å–ø–∏—Å–æ–∫, —Ñ–æ—Ä–º–∞, –¥–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞, 404, 500, –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è —Ç–∞ —Å—Ç–∏–ª—ñ.
   - –ü—Ä–æ–¥—É–º–∞–π—Ç–µ UX –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ–º–∏–ª–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —É —Ñ–æ—Ä–º–∞—Ö).

7. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**

   - –û–Ω–æ–≤—ñ—Ç—å `README.md`, –¥–æ–¥–∞–π—Ç–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ REST API, HTML –º–∞—Ä—à—Ä—É—Ç–∏ —Ç–∞ —à–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç.
   - –ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ –æ–∫—Ä–µ–º—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ —É `docs/` (`API.md`, `ARCHITECTURE.md`, `TESTING.md`, `DEPLOYMENT.md`), —â–æ –æ–ø–∏—Å—É—é—Ç—å:
     - –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ —ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤ (cURL, —Å—Ç–∞—Ç—É—Å–∏).
     - –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É (MVC, –º–æ–¥—É–ª—å–Ω—ñ —Ä–æ—É—Ç–µ—Ä–∏, middleware).
     - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–º–∞–Ω—É–∞–ª—å–Ω—ñ —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó).
     - –ü–æ—Ä–∞–¥–∏ —â–æ–¥–æ –¥–µ–ø–ª–æ—é (Docker, PM2, Nginx, env).

8. **–¢–µ—Å—Ç–∏ (–±–∞–∑–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥)**

   - –ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–∏–π —Ç–µ—Å—Ç `tests/runTests.mjs` –∑ `node:test` + `supertest` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ `GET /api/products`, `POST`, `PATCH`, `DELETE`).
   - –î–æ–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `"test": "cross-env NODE_ENV=test node --experimental-vm-modules ./tests/runTests.mjs"`.

9. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞**
   - –ó–∞–ø—É—Å—Ç—ñ—Ç—å `yarn dev`, –≤—Ä—É—á–Ω—É –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ HTML —Ñ–æ—Ä–º–∏ —Ç–∞ API (cURL –∞–±–æ Postman).
   - –ó–∞–ø—É—Å—Ç—ñ—Ç—å `yarn test` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫.
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –¥–æ–¥–∞–Ω–æ/–≤–∏–¥–∞–ª–µ–Ω–æ –ø—Ä–æ–¥—É–∫—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ü—ñ–Ω–∞ > 0, –Ω–∞–∑–≤–∞ –Ω–µ –ø–æ—Ä–æ–∂–Ω—è).

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É

- –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å—Ç–æ—Ä—ñ–Ω–∫–∏ + —Ñ–æ—Ä–º–∏) –ø—Ä–∞—Ü—é—î, –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ —Ç–∞ –¥–æ–∑–≤–æ–ª—è—î —ó—Ö CRUD —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º–∏.
- REST API `/api/products` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∑ –º–µ—Ç–æ–¥–∞–º–∏ GET/POST/PUT/PATCH/DELETE, –ø–æ–≤–µ—Ä—Ç–∞—î –∫–æ—Ä–µ–∫—Ç–Ω—ñ —Å—Ç–∞—Ç—É—Å–∏ –π –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
- –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è in-memory, –∞–ª–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω—å (`products.mjs`).
- –ú–∞—Ä—à—Ä—É—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ, middleware –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è, –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ —Ç–µ—Å—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –ø–æ—Ç–æ—á–Ω–æ–º—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –≥—ñ–ª–∫–∏ `express-migration`.

---

## –ï—Ç–∞–ø 2. express-migration (–ø–æ—Ç–æ—á–Ω–∞ –≥—ñ–ª–∫–∞)

> –í —Ü—ñ–π –≥—ñ–ª—Ü—ñ –≤–∏ —Ä–æ–∑—à–∏—Ä—é—î—Ç–µ –≤–∂–µ –≥–æ—Ç–æ–≤—É –±–∞–∑–æ–≤—É Express-–≤–µ—Ä—Å—ñ—é –¥–æ —à–∏—Ä–æ–∫–æ–≥–æ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É. –û—Ä—ñ—î–Ω—Ç—É–π—Ç–µ—Å—è –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏ `docs/API.md`, `docs/ARCHITECTURE.md`, `docs/TESTING.md`, `docs/DEPLOYMENT.md`.

### 1. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏

- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ `express`, `ejs`, `method-override`, `dotenv`. –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ –¥–æ–¥–∞–π—Ç–µ `supertest`, `cross-env` –¥–ª—è —Ç–µ—Å—Ç—ñ–≤.
- –í–∏–Ω–µ—Å—ñ—Ç—å –ø–æ—á–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –≤ `src/data/products.mjs`, –∞ –ª–æ–≥—ñ–∫—É –¥–æ—Å—Ç—É–ø—É/–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó ‚Äî –≤ `src/models/products.mjs`.
- –°—Ç–≤–æ—Ä—ñ—Ç—å –æ–∫—Ä–µ–º—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –¥–ª—è API —Ç–∞ –≤–µ–± —Ä–æ—É—Ç–µ—Ä—ñ–≤ (`src/routes/api`, `src/routes/web`) –∑ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞–º–∏ (`index.mjs`).
- –†–æ–∑–¥—ñ–ª—ñ—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –Ω–∞ HTML (`pageController`, `productController` –¥–ª—è –≤–µ–±) —Ç–∞ JSON API (—É `productController` –∑–∞–ª–∏—à—Ç–µ REST —Ñ—É–Ω–∫—Ü—ñ—ó).

### 2. RESTful API

- –†–µ–∞–ª—ñ–∑—É–π—Ç–µ `GET /api/products`, `GET /api/products/:id`, `POST /api/products`, `PUT /api/products/:id`, `PATCH /api/products/:id`, `DELETE /api/products/:id`.
- –ì–∞—Ä–∞–Ω—Ç—É–π—Ç–µ –∫–æ—Ä–µ–∫—Ç–Ω—ñ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–∏ (200, 201, 400, 404, 409, 500) —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON.
- –î–æ–¥–∞–π—Ç–µ middleware –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –∑–∞–ø–∏—Ç—ñ–≤ (`src/middleware/validation.mjs`) –ø–µ—Ä–µ–¥ –≤–∏–∫–ª–∏–∫–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ–≤.
- –í API —Ä–æ—É—Ç–µ—Ä—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ª–∞–Ω—Ü—é–≥–æ–≤—ñ –≤–∏–∫–ª–∏–∫–∏ `.route()` –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –º–µ—Ç–æ–¥—ñ–≤.

### 3. HTML —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- –°—Ç–≤–æ—Ä—ñ—Ç—å EJS —à–∞–±–ª–æ–Ω–∏: —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤, —Ñ–æ—Ä–º–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –¥–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞, 404 —Ç–∞ 500.
- –ó–∞–±–µ–∑–ø–µ—á—Ç–µ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ñ–æ—Ä–º).
- –í–µ–± –º–∞—Ä—à—Ä—É—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —Ü–∏–∫–ª CRUD —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º–∏ (–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º method-override –¥–ª—è PUT/DELETE).

### 4. Middleware —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

- –î–æ–¥–∞–π—Ç–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ (–ø—Ä–æ—Å—Ç–∞ middleware –∑ `logger`).
- –†–µ–∞–ª—ñ–∑—É–π—Ç–µ Express error middleware, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î JSON –¥–ª—è API —Ç–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–ª—è –≤–µ–±.
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –æ–∫—Ä–µ–º—ñ 404-—Ö–µ–Ω–¥–ª–µ—Ä–∏: JSON –¥–ª—è `/api/*`, HTML –¥–ª—è —Ä–µ—à—Ç–∏.
- –ó–±–µ—Ä–µ–∂—ñ—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ñ –ø—Ä–æ—Ü–µ—Å–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ (`uncaughtException`, `unhandledRejection`).

### 5. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

- –î–æ–¥–∞–π—Ç–µ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ (`tests/runTests.mjs`) –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `node:test` —Ç–∞ `supertest` –¥–ª—è –æ—Å–Ω–æ–≤–Ω–∏—Ö REST —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ (GET/POST/PATCH/DELETE).
- –ü–µ—Ä–µ–¥–±–∞—á—Ç–µ —É—Ç–∏–ª—ñ—Ç—É `resetProducts()` –≤ –º–æ–¥–µ–ª—ñ –¥–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è —Å—Ç–∞–Ω—É –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏.
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `yarn test` –ø–µ—Ä–µ–¥ –∑–¥–∞—á–µ—é.

### 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- –û–Ω–æ–≤—ñ—Ç—å `README.md`, –≤—ñ–¥–æ–±—Ä–∞–∑—ñ—Ç—å HTML –º–∞—Ä—à—Ä—É—Ç–∏, REST API, —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –∑–∞–ø—É—Å–∫—É.
- –ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ –∞–±–æ –æ–Ω–æ–≤—ñ—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∏ –≤ `docs/` (API, Architecture, Testing, Deployment) –∑–≥—ñ–¥–Ω–æ –∑ —Ä–µ–∞–ª—å–Ω–∏–º —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º –ø–æ—Ç–æ—á–Ω–æ—ó –≥—ñ–ª–∫–∏.

### 7. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ –∫—Ä–∏—Ç–µ—Ä—ñ—ó

- –†—É—á–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ HTML —Ç–∞ REST API (—á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä, cURL –∞–±–æ Postman).
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –¥–∞–Ω—ñ –≤ –ø–∞–º º—è—Ç—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î.
- –ö–æ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∫—Ä–∞—â–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º: –º–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å, —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ, —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å, –æ—Ö–æ–ø–ª–µ–Ω–Ω—è —Ç–µ—Å—Ç–∞–º–∏.

---

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ —ñ–¥–µ—ó (–¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É)

- –û–Ω–æ–≤—ñ—Ç—å README –ø—ñ–¥ Express —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é.
- –û–ø–∏—à—ñ—Ç—å —É README –±–∞–∑–æ–≤—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ —Ç–∞ —è–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç.
