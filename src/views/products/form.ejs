<!DOCTYPE html>
<html lang='uk'>

<head>
  <%- include('../partials/head') %>
    <title>
      <%= isEdit ? 'Редагувати продукт' : 'Додати продукт' %> - Express HTTP Server
    </title>
    <%- include('../partials/styles') %>
</head>

<body>
  <div class='container'>
    <%- include('../partials/navigation') %>

      <h1>
        <%= isEdit ? 'Редагувати продукт' : 'Додати новий продукт' %>
      </h1>

      <% if (typeof error !=='undefined' && error) { %>
        <div class='alert alert-danger'>
          <%= error %>
        </div>
        <% } %>

          <form action='<%= isEdit ? `/products/${product.id}?_method=PUT` : ' /products' %>' method='post'>
            <% if (isEdit) { %>
              <div class='form-group'>
                <label>ID продукту:</label>
                <span class='form-value'>
                  <%= product.id %>
                </span>
                <small class='form-text'>ID не можна змінювати</small>
              </div>
              <% } %>

                <div class='form-group'>
                  <label for='name'>Назва продукту:</label>
                  <input type='text' id='name' name='name' required placeholder='Введіть назву продукту' value='<%= product.name || '' %>'>
                </div>

                <div class='form-group'>
                  <label for='price'>Ціна ($):</label>
                  <input type='number' id='price' name='price' required min='0' step='0.01' placeholder='0.00' value='<%= product.price || '' %>'>
                </div>

                <div class='form-group'>
                  <label for='description'>Опис продукту:</label>
                  <textarea id='description' name='description' required placeholder='Введіть опис продукту'><%= product.description || '' %></textarea>
                </div>

                <button type='submit' class='btn btn-success'>
                  <%= isEdit ? 'Оновити продукт' : 'Додати продукт' %>
                </button>
                <a href='/products' class='btn'>Скасувати</a>
          </form>
  </div>
</body>

</html>
